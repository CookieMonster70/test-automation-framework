<!DOCTYPE html>
<html>
<body>

<div id="Parent">
    <button type="button" id="Button">Button</button>
</div>

<script>
    let currentButton = document.getElementById("Button");
    let newButton = null;

    function replaceButton() {
        newButton = currentButton.cloneNode(true);
        document.getElementById("Parent").replaceChild(newButton, currentButton);
        currentButton = newButton;
    }

    let iterationsCounter = 0;

    function poll() {
        iterationsCounter++
        console.log("Iteration " + iterationsCounter);
        const sleepTime = ((iterationsCounter % 500) === 0) ? 100 : 0;
        new Promise(resolve => setTimeout(resolve, sleepTime)).then(() => {
            replaceButton();
            poll()
        });
    }

    poll();
</script>

</body>
</html>
